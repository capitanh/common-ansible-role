//Plugins declaration
plugins {
  id "com.mooltiverse.oss.nyx" version "2.5.1"
}

//Global properties
rootProject.name = 'common-ansible-role'
//nyx version manager plugin configuration
nyx {
  preset = 'extended'
  releasePrefix = 'v'
  releaseTypes {
    enabled = ['master']
    publicationServices = ['github']
    items {
      master {
        gitCommit = 'true'
        gitCommitMessage = 'Release version '
        gitPush = 'true'        
        publish = 'true'
      }
    }
  }
  services {
    github {
      type = 'GITHUB'
      options{
        AUTHENTICATION_TOKEN = "${System.env.GITHUB_TOKEN}"
        REPOSITORY_NAME = 'common-ansible-role'
        REPOSITORY_OWNER = 'capitanh'
      }
    }
  }  
}
